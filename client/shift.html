<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spr√°va smƒõny</title>
    <link rel="stylesheet" href="styles/main-modern.css">
    <link rel="stylesheet" href="styles/shift.css">
</head>
<body class="page-container">
    <header id="app-header"></header>

    <main class="content-wrapper">
        <!-- Aktu√°ln√≠ smƒõna -->
        <section class="card" id="current-shift-section">
            <div class="card-body" id="shift-info-container">
                <!-- ≈Ω√°dn√° aktivn√≠ smƒõna -->
                <div id="no-shift-state" class="empty-state">
                    <svg class="empty-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <line x1="12" y1="8" x2="12" y2="12"></line>
                        <line x1="12" y1="16" x2="12.01" y2="16"></line>
                    </svg>
                    <p>Nen√≠ aktivn√≠ ≈æ√°dn√° smƒõna</p>
                    <p class="text-secondary">Zahajte novou smƒõnu pro sledov√°n√≠ tr≈æeb</p>
                </div>

                <!-- Aktivn√≠ smƒõna -->
                <div id="active-shift-info" class="shift-details" hidden>
                    <div class="info-grid">
                        <div class="info-item">
                            <span class="info-label">Barman/ka</span>
                            <span class="info-value" id="current-bartender">‚Äî</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">ID smƒõny</span>
                            <span class="info-value" id="current-shift-id">‚Äî</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Zah√°jeno</span>
                            <span class="info-value" id="shift-start-time">‚Äî</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Trv√°n√≠</span>
                            <span class="info-value" id="shift-duration">‚Äî</span>
                        </div>
                    </div>

                    <!-- Souhrn tr≈æeb -->
                    <div class="revenue-summary">
                        <h3>Souhrn tr≈æeb</h3>
                        <div class="revenue-grid">
                            <div class="revenue-card revenue-total">
                                <span class="revenue-label">Celkov√° tr≈æba</span>
                                <span class="revenue-amount" id="total-revenue">0 Kƒç</span>
                            </div>
                            <div class="revenue-card">
                                <span class="revenue-label">üíµ Hotovost</span>
                                <span class="revenue-amount" id="cash-revenue">0 Kƒç</span>
                            </div>
                            <div class="revenue-card">
                                <span class="revenue-label">üí≥ Karta</span>
                                <span class="revenue-amount" id="card-revenue">0 Kƒç</span>
                            </div>
                            <div class="revenue-card">
                                <span class="revenue-label">üë§ √öƒçty z√°kazn√≠k≈Ø</span>
                                <span class="revenue-amount" id="customer-revenue">0 Kƒç</span>
                            </div>
                        </div>

                        <div class="stats-row">
                            <div class="stat-item">
                                <span class="stat-value" id="order-count">0</span>
                                <span class="stat-label">Objedn√°vek</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-value" id="cancelled-count">0</span>
                                <span class="stat-label">Stornovan√Ωch</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-value" id="avg-order-value">0 Kƒç</span>
                                <span class="stat-label">Pr≈Ømƒõr/objedn√°vka</span>
                            </div>
                        </div>
                    </div>

                    <!-- Evidence pokladny -->
                    <div class="cash-register-section">
                        <h3>üí∞ Stav pokladny</h3>
                        <div class="cash-register-summary">
                            <div class="cash-item">
                                <span class="cash-label">Poƒç√°teƒçn√≠ stav</span>
                                <span class="cash-value" id="initial-cash-display">0 Kƒç</span>
                            </div>
                            <div class="cash-item">
                                <span class="cash-label">P≈ô√≠jem hotovosti</span>
                                <span class="cash-value" id="cash-income-display">0 Kƒç</span>
                            </div>
                            <div class="cash-item">
                                <span class="cash-label">Vklady</span>
                                <span class="cash-value positive" id="deposits-display">0 Kƒç</span>
                            </div>
                            <div class="cash-item">
                                <span class="cash-label">V√Ωbƒõry</span>
                                <span class="cash-value negative" id="withdrawals-display">0 Kƒç</span>
                            </div>
                            <div class="cash-item current-cash">
                                <span class="cash-label"><strong>Aktu√°ln√≠ stav</strong></span>
                                <span class="cash-value" id="current-cash-display"><strong>0 Kƒç</strong></span>
                            </div>
                        </div>
                        <div class="cash-register-actions">
                            <button id="deposit-button" class="btn btn-success">
                                <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="12" y1="5" x2="12" y2="19"></line>
                                    <polyline points="19 12 12 19 5 12"></polyline>
                                </svg>
                                Vklad
                            </button>
                            <button id="withdrawal-button" class="btn btn-warning">
                                <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="12" y1="19" x2="12" y2="5"></line>
                                    <polyline points="5 12 12 5 19 12"></polyline>
                                </svg>
                                V√Ωbƒõr
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Ovl√°d√°n√≠ smƒõny -->
        <section class="card">
            <header class="card-header">
                <h2 id="control-title">Zah√°jit smƒõnu</h2>
            </header>
            <div class="card-body">
                <div class="form-group" id="bartender-input-group">
                    <label for="bartender-name">Jm√©no barmana/ky</label>
                    <input 
                        type="text" 
                        id="bartender-name" 
                        class="form-input"
                        placeholder="Zadejte jm√©no..."
                        autocomplete="off"
                    >
                </div>

                <div class="form-group" id="cash-register-input-group">
                    <label for="initial-cash">üí∞ Poƒç√°teƒçn√≠ stav pokladny (Kƒç)</label>
                    <input 
                        type="number" 
                        id="initial-cash" 
                        class="form-input"
                        placeholder="Zadejte poƒç√°teƒçn√≠ stav..."
                        min="0"
                        step="100"
                        value="2000"
                        autocomplete="off"
                    >
                    <small class="form-help">Kolik hotovosti je v pokladnƒõ na zaƒç√°tku smƒõny</small>
                </div>

                <div class="button-group">
                    <button 
                        id="start-shift-button" 
                        class="btn btn-primary btn-lg"
                    >
                        <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <polygon points="10 8 16 12 10 16 10 8"></polygon>
                        </svg>
                        Zah√°jit smƒõnu
                    </button>
                    <button 
                        id="end-shift-button" 
                        class="btn btn-danger btn-lg"
                        disabled
                    >
                        <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <rect x="9" y="9" width="6" height="6"></rect>
                        </svg>
                        Ukonƒçit smƒõnu
                    </button>
                    <button 
                        id="refresh-button" 
                        class="btn btn-secondary"
                        title="Obnovit data"
                    >
                        <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="23 4 23 10 17 10"></polyline>
                            <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </section>
    </main>

    <!-- Modaly jsou generov√°ny dynamicky pomoc√≠ common.js -->

    <script src="scripts/theme-manager.js"></script>
    <script type="module" src="scripts/common.js"></script>
    <script type="module" src="scripts/shift.js"></script>
</body>
</html>
